[
  {
    "date": "2026-02-23",
    "changes": [
      "ğŸ“œ MAJOR: Added Quest system â€” DMs can create quests with action items, tiered rewards, and descriptions",
      "ğŸ“œ New Quests tab in the DM Console for creating and managing premade quests",
      "ğŸ“œ Quest action items can be shown/hidden to players with eye toggle (hidden by default)",
      "ğŸ“œ Quest rewards support Dirt/Copper/Silver/Gold tiers with show/hide visibility controls",
      "ğŸ“œ DMs can assign quests to crawlers from the ShowTime map selector (next to loot boxes)",
      "ğŸ“œ Default-select-all crawlers when assigning a quest; becomes a 'Party Quest' if all crawlers participate",
      "ğŸ“œ New Quests tab on crawler profile page showing assigned quests with expandable details",
      "ğŸ“œ Quest notes: crawlers can add date-stamped text notes visible to all quest participants",
      "ğŸ“œ DM can check off action items per-crawler from ShowTime â€” completed items show strikethrough for players",
      "ğŸ“œ Quest assignment, action reveal/completion, and reward reveal push notifications to the dice menu",
      "ğŸ“œ Toast notifications appear for players when they receive a new quest",
      "ğŸ“œ DMs can link quests to episodes in the episode builder (similar to loot boxes)",
      "ğŸ› Fixed blank ShowTime page caused by TDZ variable ordering issue in quest code",
      "ğŸ“œ Added drag-to-reorder for quest action items and rewards on the DM console Quests tab"
    ]
  },
  {
    "date": "2026-02-22",
    "changes": [
      "âš”ï¸ Mob token letters are now stable â€” deleting a token no longer reorders other tokens of the same type (e.g., deleting Flurg B leaves Flurg C and Flurg D unchanged)",
      "âš”ï¸ Deleting a mob from the map during active combat now automatically removes it from the combat turn order"
    ]
  },
  {
    "date": "2026-02-21",
    "changes": [
      "ğŸ‘¤ Player identity switcher dropdown now available on the Main Menu screen",
      "ğŸ‘¤ Dungeon AI (DM) login option added to the player switcher dropdown on all pages",
      "Crawlers can now switch to DM mode directly from the navigation bar without returning to the main menu",
      "Password-protected DM access with inline password prompt in the dropdown",
      "ğŸ“¦ Item Library now has expandable item details (click any item name to see full stats, weapon data, and modifiers)",
      "ğŸ“¦ Added search bar to Item Library â€” top 10 search results are pulled to the top of the list",
      "ğŸ“¦ Item Library now has a scrollable fixed-height container for easier browsing",
      "ğŸ“¦ Added equipment slot filter dropdown to Item Library (filter by Weapon, Head, Chest, etc.)"
    ]
  },
  {
    "date": "2026-02-19",
    "changes": [
      "ğŸ“– MAJOR: Added Wiki system accessible from the main navigation bar",
      "Wiki features: full-text search, category navigation, table of contents, and subpage structure",
      "Any user can edit wiki pages directly from the browser (content saves to Firebase in real-time)",
      "Wiki ships with pre-written documentation covering all game features and mechanics",
      "ğŸ“‹ Added expandable item details on the inventory page (click any item name to see full stats, weapon data, and modifiers)",
      "ğŸ² Fixed weapon dice display in dice roller: now shows actual weapon dice instead of always 'd20'",
      "Individual die results are broken out for multi-die weapon rolls (e.g., d12 5, d12 7 instead of 2d12 12)",
      "Attack rolls labeled 'Attack roll:' and damage rolls labeled 'Damage:' instead of generic 'Check:'",
      "âš”ï¸ Added splash damage checkbox to weapon configuration in item library",
      "ğŸ‘¤ Player identity switcher moved to top-right corner of navigation bar for easier access",
      "ğŸŒ«ï¸ Increased fog of war precision: consolidation threshold raised from 1000 to 3000 circles",
      "ğŸŒ«ï¸ Fog brush minimum size increased to match crawler/mob icon size on the map",
      "ğŸ› Added null checks to all Firebase Firestore calls to prevent crashes when db is unavailable",
      "ğŸ› Removed direct useFirebaseStore() call from ShowTimeView (now receives roomId as a prop)",
      "ğŸ› Fixed stale closure in player showtime listener that could miss episode changes",
      "ğŸ› Fixed stale closure in avatar upload that could lose concurrent form edits",
      "ğŸ› Fixed stale mapBoxes closure in box add/update/delete handlers causing lost updates during rapid interaction",
      "ğŸ› Fixed episode sync effect overwriting local drag positions during mob drag operations",
      "ğŸ› Fixed DiceRoller interval not being cleaned up on component unmount",
      "ğŸ› Removed debug console.log from ShowTimeView render path (was running every render cycle)",
      "ğŸ› Removed unused consolidateFogCircles dependency from handleFogReveal callback",
      "ğŸ› Removed unused rollMobInitiatives destructured variable from Index.tsx",
      "âš¡ Stabilized ShowTimeView callback props with useCallback to prevent excessive effect re-firing",
      "âš¡ Optimized getStableCollection to cache serialized hashes instead of double-stringifying on every call",
      "âš¡ Memoized inventory reference in ProfilesView to prevent cascading recomputation of dependent memos",
      "âš¡ All async Firebase calls in useGameState now properly return promises for error propagation",
      "ğŸ“ Fixed MAX_IMAGE_LENGTH documentation in CLAUDE.md (was incorrectly listed as 15 MB, actual limit is ~1 MB)"
    ]
  },
  {
    "date": "2026-02-18",
    "changes": [
      "âš”ï¸ Added equip/unequip system for mob inventory items (double-click or right-click to equip)",
      "Right-click context menu on mob inventory items with equip, expand details, and remove options",
      "Expandable item detail panels for mob inventory showing description, gold value, slot, tags, stat modifiers, and weapon data",
      "Equipped mob items highlighted with gold border and shield icon"
    ]
  },
  {
    "date": "2026-02-17",
    "changes": [
      "ğŸ‘¤ Added player identity switching via dropdown in the navigation bar",
      "ğŸ® Added Play the Game / Game Over button for DMs in the game clock panel",
      "Players see a waiting screen until the DM clicks Play the Game",
      "Game start/stop notifications pushed to dice roll history and as toast notifications",
      "ğŸ”§ Fixed game clock panel mouse scrolling (no longer blocked by map zoom handler)",
      "ğŸ”§ Fixed changelog window scrolling with same native wheel handler approach",
      "Hidden scrollbar in game clock panel for cleaner appearance",
      "ğŸ“ Rounded zoom percentage display to whole numbers",
      "ğŸ› Fixed TDZ (Temporal Dead Zone) error causing blank page in production builds"
    ]
  },
  {
    "date": "2026-02-16",
    "changes": [
      "â¤ï¸ Health bars on all map icons: mob and crawler icons now always display green/red health bars with currentHP/maxHP text",
      "ğŸ›¡ï¸ Crawler health bars show equipment modifier bonus as orange bar portion (matching profile view)",
      "ğŸ› Fixed independent mob health tracking: duplicate mobs (Greg A, Greg B) now take damage independently instead of sharing HP",
      "ğŸ² Mob initiative rolls now appear in the dice panel so players can see what each mob rolled",
      "ğŸ“¦ Players can now edit inventory items (name, description) on the inventory page â€” edit button accessible to all users",
      "âš”ï¸ Weapon upgrade modal now lets players edit the weapon name during upgrade",
      "ğŸ¯ Weapon ATTACK button now auto-rolls damage dice alongside the d20 attack roll when outside of combat",
      "ğŸ› Fixed DM overlay panels getting pushed off screen: DiceRoller, MapToolsMenu, and mob display cards now clamp to viewport",
      "ğŸ› Fixed runtime mob combat ID matching so duplicate runtime mobs display correct per-instance health"
    ]
  },
  {
    "date": "2026-02-15",
    "changes": [
      "ğŸ® Runtime-added mobs and crawlers (placed during ShowTime) now appear in combat setup and rest selection",
      "â• New 'Add to Combat' button allows adding combatants mid-combat during both initiative and combat phases",
      "âš”ï¸ Mobs auto-roll initiative when added to combat; crawlers wait for player roll"
    ]
  },
  {
    "date": "2026-02-14",
    "changes": [
      "âš”ï¸ MAJOR: Full weapon system with configurable damage types and weapon types",
      "Weapon config UI in item library: hit die, damage dice, stat modifiers, ranged/melee, range, special effects",
      "Equipped weapons appear as attack cards in crawler Attacks tab with ATTACK and DAMAGE buttons",
      "Right-click weapon attack for advantage/disadvantage rolls (2d20 take highest/lowest)",
      "Weapon upgrade system: right-click weapon in inventory to upgrade stats, marked with 'Upgraded' label",
      "âš”ï¸ Combat turn counter displayed next to noncombat turn counter",
      "Cancel combat button during both initiative and combat phases",
      "ğŸ› Fixed React error #310: moved useMemo before early return to fix hooks ordering"
    ]
  },
  {
    "date": "2026-02-12",
    "changes": [
      "âš”ï¸ MAJOR: Combat system with initiative, turn order, and damage",
      "DM starts combat from PingPanel: select crawlers and mobs to enter combat",
      "Initiative phase: crawlers roll d20 for initiative, mobs auto-roll",
      "Combat phase: turn-based order sorted by initiative, action/bonus action tracking",
      "Damage target modal: select target, roll damage dice, apply damage with HP tracking",
      "Per-combatant HP tracking for duplicate mobs (Greg A, Greg B with separate health)",
      "Bonus actions tab: Off-hand Attack, Dash, Disengage, Hide",
      "Combat order display bar at top of map during active combat",
      "Episode-scoped combat state: switching episodes hides unrelated combat"
    ]
  },
  {
    "date": "2026-02-10",
    "changes": [
      "ğŸ› Fixed DM view panel visibility: overlays raised above footer, PingPanel shows with noncombat turns",
      "ğŸ› Fixed map blocker scoped to map container only (no longer blocks entire screen)",
      "ğŸ—ºï¸ Client-side URL routing: browser back/forward works without reload",
      "ğŸ“¦ Firebase Storage for large map uploads: bypasses Firestore 1MB field limit"
    ]
  },
  {
    "date": "2026-02-07",
    "changes": [
      "ğŸ“¦ MAJOR: Loot box system â€” DM creates templates, sends to crawlers, unlocks when ready, players claim items",
      "Loot box tiers: Dirt, Copper, Silver, Gold with tier-colored UI",
      "Dedicated 'Loot Boxes' tab in DM Console with quantity selector",
      "Toast notifications for new and unlocked loot boxes",
      "'Claim All' button on profile to instantly claim all unlocked items",
      "Loot box sends appear in dice roller history",
      "ğŸ“¦ Loot boxes now include gold rewards",
      "ğŸ´ Mob cards sync to all players via Firebase, simplified expand/collapse UI",
      "ğŸ’° Gold field added to loot boxes (create/send/claim)",
      "ğŸ“¦ Consolidated duplicate inventory items with count badges (Ã—3)",
      "âœï¸ Added edit functionality for inventory library items",
      "ğŸ› Fixed map container not expanding with scale"
    ]
  },
  {
    "date": "2026-02-04",
    "changes": [
      "ğŸ—ºï¸ Full-screen map designer popout for episode editor with drag positioning",
      "ğŸ’° Send gold and items between crawlers from profile page",
      "ğŸ’ Inventory improvements: library-only item creation, consolidated count badges",
      "ğŸ”’ Hidden loot box gold until DM unlocks",
      "ğŸ› Fixed noncombat button crash caused by React event leaking into Firebase",
      "ğŸ› Fixed map container width fallback when image not yet loaded"
    ]
  },
  {
    "date": "2026-02-03",
    "changes": [
      "â° Game clock is now episode-dependent",
      "ğŸ› Fixed noncombat rolls, episode close, equipment slots, inventory panel, and image limit issues",
      "ğŸ› Fixed inventory duplicate items and cleaned up unused imports"
    ]
  },
  {
    "date": "2026-02-02",
    "changes": [
      "ğŸ“ Ruler tool now visible to all players in real-time - users can see each other's measurements",
      "ğŸ› Fixed ruler dismiss click being blocked by invisible bounding box of triangle shape effects",
      "ğŸ·ï¸ Added editable name labels below all crawler and mob icons on the map (per-episode, synced in real-time)",
      "ğŸ¨ Removed blue circle level indicator from crawler icons for cleaner appearance",
      "ğŸ“‹ Mob type labels (BOSS/NPC/NORMAL) now appear under the mob image on the Mobs page instead of to the side",
      "ğŸ” Decreased mouse scroll zoom sensitivity on the map for finer control",
      "ğŸ“ Added ruler tool to ShowTime map for measuring distance in feet",
      "ğŸ› Fixed map zoom triggering when scrolling dice roller on showtime page"
    ]
  },
  {
    "date": "2026-02-01",
    "changes": [
      "ğŸ² Synced dice rolls across all connected players in real-time",
      "Clickable stat rolls - click a stat to auto-roll d20 + modifier",
      "Dice roller UI improvements: collapsible options, full-height panel, relative timestamps, auto-scroll",
      "ğŸ“¦ Added shared item library with per-crawler search in inventory",
      "âš”ï¸ Added HP/Mana modifiers and stat modifiers to inventory items",
      "Equipment layout improvements with expand/collapse and full-width UI",
      "ğŸ› Fixed triangle shape border, click-off flash, and placement over triangles"
    ]
  },
  {
    "date": "2026-01-31",
    "changes": [
      "ğŸ—ºï¸ Map base scale now uses CSS transform for proper scaling of all overlays",
      "Fixed map rendering: consistent base size, auto width, zoom down to 1%",
      "Icons and shapes counter-scale to maintain consistent sizes across map scales",
      "ğŸ› Fixed fog consolidation causing visible jumps on large maps",
      "ğŸ¨ Added shape borders, doubled max shape size, added fog paint brush",
      "Shape controls now persist until clicking away, stick to shape edges",
      "Fixed rotation jerk on first move, deselect shape after placement"
    ]
  },
  {
    "date": "2026-01-31",
    "changes": [
      "ğŸ§¹ Removed Lovable and Netlify dependencies - project now fully hosted on GitHub Pages with Firebase",
      "ğŸ”Š Fixed Freesound sound effects search - searches now pull results directly from Freesound API",
      "Added 10-minute client-side cache for sound searches to prevent rate limiting (429 errors)",
      "Sound results no longer disappear when API rate limit is hit - existing results are preserved",
      "ğŸ› Fixed map visibility/names arrays not shrinking when maps are deleted",
      "ğŸ› Fixed weak image fingerprint hash - now uses 4 sections for more reliable duplicate detection",
      "ğŸ› Fixed optimistic delete rollback using atomic state capture to prevent stale data",
      "ğŸ› Fixed broadcastDragState stale closure with useCallback wrapper"
    ]
  },
  {
    "date": "2026-01-29",
    "changes": [
      "ğŸ—ºï¸ Episode map scale now changes physical map size instead of viewport zoom",
      "At 200% scale, the map image is twice as large, making icons/effects appear relatively smaller",
      "Map scale settings sync in real-time from DM console to ShowTime view via JSON deep comparison",
      "ğŸ”§ Reduced scroll zoom sensitivity by 50% for finer control",
      "ğŸ› Fixed map persisting from previous episode when switching episodes",
      "ğŸ“Œ Ping panel now snaps below navigation pane and shifts to top when nav collapses",
      "Navigation pane hover trigger limited to left 60% of screen to avoid accidental triggers near ping panel",
      "Fixed pin button on navigation pane appearing disabled",
      "ğŸ› Fixed cross-episode state bleeding - shapes, fog, icons, and crawlers fully reset on episode switch",
      "ğŸ› Fixed cross-map state bleeding - all per-map state resets when switching maps within an episode",
      "ğŸ› Fixed scroll zoom causing buttons to disappear off-screen (now uses global window listener)",
      "Firebase listeners now clear state when no document exists for a map"
    ]
  },
  {
    "date": "2026-01-28",
    "changes": [
      "âš¡ MAJOR: Fixed real-time sync lag with Firebase batch writes, debouncing, and optimistic updates",
      "ğŸ¨ Added smooth CSS transitions for mob/crawler icons, shapes, and fog of war",
      "Shapes and fog of war changes now animate smoothly for all connected players",
      "ğŸŒ«ï¸ Fixed fog of war circle consolidation - fog no longer reappears after extensive clearing",
      "Replaced array trimming with intelligent merging algorithm that combines overlapping circles",
      "Added Gaussian blur filter for softer fog edges",
      "ğŸŒ«ï¸ Fog of war state now persists across sessions (enabled/disabled + revealed areas saved to Firebase)",
      "ğŸ” Zoom level now always defaults to 100% on page load"
    ]
  },
  {
    "date": "2026-01-27",
    "changes": [
      "ğŸ’ Inventory improvements: added weapon slot to equipment system",
      "ğŸ”§ Fixed ShowTime UI positioning and optimized drag performance"
    ]
  },
  {
    "date": "2026-01-26",
    "changes": [
      "ğŸ® ShowTime UI improvements and interaction enhancements",
      "Fixed various ShowTime UI issues"
    ]
  },
  {
    "date": "2026-01-24",
    "changes": [
      "ğŸ“¡ MAJOR: Real-time sync for DM episode/map selection to all players",
      "Players automatically see the map the DM selects without manual refresh",
      "ğŸ”§ Fixed icon scaling to maintain consistent sizes across zoom levels",
      "ğŸ¨ Expanded character profile UI with more detail",
      "ğŸ› Fixed mob icon dragging with proper cursor and event handling"
    ]
  },
  {
    "date": "2026-01-23",
    "changes": [
      "ğŸ›ï¸ Consolidated DM controls into MapToolsMenu for cleaner UI",
      "Fixed episode tab, user controls, and naming issues",
      "Fixed DM controls z-index to prevent overlap with tools panel"
    ]
  },
  {
    "date": "2026-01-22",
    "changes": [
      "ğŸ–±ï¸ Added cursor follower effect on ShowTime map",
      "ğŸ” Added zoom +/- button controls for map viewing",
      "Fixed ShowTimeView initialization order bug"
    ]
  },
  {
    "date": "2026-01-22",
    "changes": [
      "ğŸ“ MAJOR: Added Ping system for map communication",
      "All users can ping any location on the map to draw attention",
      "Pings appear as animated ripple effects visible to all players",
      "8 color options for pings (red, blue, green, yellow, purple, orange, cyan, pink)",
      "Pings sync in real-time via Firebase to all connected users",
      "Pings auto-fade after 2 seconds",
      "ğŸ“¦ MAJOR: Added Highlight Boxes for map annotations",
      "DM can add transparent boxes to highlight areas on the map",
      "Boxes can be moved, resized, and rotated with drag handles",
      "Adjustable box color and opacity (10%-90%)",
      "Boxes sync in real-time to all players",
      "ğŸ¨ New Map Tools Menu at top of map",
      "Ping and Box mode buttons with color picker",
      "Expandable menu for additional options",
      "ğŸŒ«ï¸ Fog of War improvements",
      "Fog is now fully opaque for players (completely hides content)",
      "Fog is semi-transparent for DM (can see what's hidden)",
      "ğŸ—ºï¸ Map Scale expanded to 5000%",
      "Scale options: 25%, 50%, 75%, 100%, 150%, 200%, 300%, 500%, 1000%, 2000%, 3000%, 5000%",
      "ğŸ“ Grid improvements",
      "Grid size fixed to 64px to match mob icon size",
      "Removed grid scale slider for consistency",
      "ğŸ‘¤ Default user selection",
      "Added 'Just a Boring PC' option for spectators",
      "Set as default selection in player selector",
      "Spectators group added to player selector",
      "ğŸ‘¥ MAJOR: Crawler Icons on Maps",
      "DM can now place crawler (player character) icons on maps",
      "Crawler icons display player avatar, level, and HP bar",
      "Crawler placements sync in real-time to all players",
      "DM can remove crawler icons with X button",
      "ğŸ® MAJOR: DM can add mobs/crawlers during ShowTime",
      "New +Crawler and +Mob buttons in Map Tools Menu",
      "DM can select from available crawlers or mobs to place",
      "Click on map to place the selected character",
      "Runtime placements are separate from episode-defined placements",
      "All placements sync in real-time"
    ]
  },
  {
    "date": "2026-01-21",
    "changes": [
      "ğŸŒ«ï¸ MAJOR: Enhanced Fog of War system",
      "Fog of War is now map-dependent - each map in an episode has its own fog settings",
      "Added separate Eraser toggle - DM can enable/disable eraser without affecting fog visibility",
      "Eraser mode shows brush size slider when active",
      "Reset button covers entire map with fog again (renamed from Clear All)",
      "ğŸ—ºï¸ Map Scale improvements",
      "Scale is now per-map - each map can have its own zoom level",
      "Scale controls moved to DM console Episodes tab only (cleaner ShowTime UI)",
      "Mob icons maintain fixed size regardless of map scale (no more tiny/huge mobs)",
      "Scale range expanded: 25% to 200%",
      "ğŸ‘¾ MAJOR: Mob icons are now map-dependent",
      "Mobs placed on a map only appear on that specific map",
      "When editing episodes, mob placements are per-map",
      "Map navigation shows correct mobs for each map",
      "ğŸ´ Fixed Mob Card visibility on ShowTime page",
      "Mob cards now render outside the map container",
      "Cards no longer affected by map scaling transform",
      "Cards appear correctly at bottom-right of screen",
      "ğŸ”§ Technical improvements",
      "Added mapId field to EpisodeMobPlacement for per-map tracking",
      "Backwards compatible - old episodes default mobs to first map",
      "Per-map settings UI in episode editor shows current map name and settings"
    ]
  },
  {
    "date": "2026-01-21",
    "changes": [
      "ğŸŒ«ï¸ Added Fog of War system for maps",
      "Fog of War overlay covers the entire map with semi-transparent darkness",
      "DM can reveal areas by clicking/dragging with adjustable brush size",
      "Fog of War covers mob icons on the map (mobs hidden until fog cleared)",
      "Real-time sync - revealed areas sync instantly to all players",
      "Clear All button to reset fog of war and re-hide the entire map",
      "ğŸ” Added Map Scale controls",
      "DM can zoom in/out on maps (25% to 200% scale)",
      "Scale setting syncs to all players in real-time",
      "ğŸ´ Fixed Mob Card display issues",
      "Mob cards now appear to the LEFT of the dice menu (no more overlap)",
      "Multiple mob cards stack horizontally",
      "Fixed card jumping when resizing - smooth transitions now",
      "Cards can be freely dragged anywhere on screen",
      "ğŸ“œ Updated changelog with all changes since January 12"
    ]
  },
  {
    "date": "2026-01-20",
    "changes": [
      "ğŸ¨ MAJOR: Enhanced Crawler Profile UI with equipment slot system",
      "Added equipment slot system: Head, Chest, Left Hand, Right Hand, Ring, Legs, Feet",
      "Equipment slots arranged anatomically (head on top, hands flanking chest, feet on bottom)",
      "Drag-and-drop inventory items to equipment slots to equip them",
      "Added equipment slot selector when creating/editing inventory items",
      "Expanded inventory view with toggleable item descriptions",
      "Larger inventory items with better spacing and readability",
      "Item tooltips showing full names on hover",
      "Fixed inventory Firebase persistence - items now save correctly using document IDs",
      "Added inline inventory management on crawler profile page",
      "ğŸ”§ Fixed Freesound API rate limiting by creating Firebase Cloud Function proxy",
      "Disabled direct Freesound API calls from client to prevent token exposure",
      "Added 1-hour caching to reduce API calls",
      "Falls back to local sound filtering when proxy unavailable",
      "ğŸ–¼ï¸ Improved avatar upload with image resizing and 500KB limit",
      "Fixed Firestore write stream exhaustion on avatar upload",
      "Added custom map names display in Episodes tab"
    ]
  },
  {
    "date": "2026-01-19",
    "changes": [
      "ğŸ® Real-time mob dragging synchronization in ShowTime",
      "Mob icons follow cursor smoothly during drag operations",
      "Throttled Firestore broadcasts to prevent rate limiting",
      "Mob positions sync instantly across all connected players",
      "Prevented mob icons from being dragged outside map boundaries",
      "Moved DM controls above the map for better visibility",
      "Made map unselectable on showtime screen",
      "ğŸ”Š Sound Effects improvements: enhanced search bar and stop button",
      "Stop button immediately halts sound playback",
      "Simplified search bar styling"
    ]
  },
  {
    "date": "2026-01-14",
    "changes": [
      "Fixed map upload and display issues",
      "Fixed DungeonAIView: Rebuilt component with proper state management",
      "Simplified Episodes tab with unified create/edit form",
      "Fixed critical bug: app stuck on loading when Firebase unavailable",
      "Fixed critical TypeScript lint errors"
    ]
  },
  {
    "date": "2026-01-13",
    "changes": [
      "ğŸ¨ MAJOR: Enhanced Episode system with visual mob placement and map management",
      "Added visual drag-and-drop mob placement editor: DMs can now drag mob icons directly onto maps to position them",
      "Created MobIcon component: circular mob tokens with head-centered positioning and HP indicators",
      "Created MapMobPlacementEditor component: full visual editor with available/placed mob management",
      "Added grid overlay system: DMs can toggle a semi-transparent grid on maps (both in Episode Editor and ShowTime)",
      "Map naming feature: DMs can now name and edit map labels in the Map Manager for better organization",
      "ShowTime improvements: DMs can toggle grid overlay while presenting episodes to players",
      "Grid overlay helps DMs with precise mob positioning and provides visual reference for gameplay",
      "Improved UI/UX: all controls are intuitive with clear visual feedback and minimal learning curve",
      "Created GridOverlay SVG component for smooth, scalable grid rendering",
      "Enhanced MapsView with inline editing for map names (click edit icon, type name, save with checkmark)"
    ]
  },
  {
    "date": "2026-01-12",
    "changes": [
      "ğŸ¬ MAJOR: Added Episode system for D&D session management",
      "Episodes feature: DMs can now create named episodes with descriptions, predefined maps, and positioned mobs",
      "Episode Creator in Dungeon AI console: intuitive form to create episodes with map selection (checkboxes) and mob positioning (0-100% X/Y sliders)",
      "ShowTime view redesigned to support Episodes: DMs select an episode, then choose which map to display and which mobs to show",
      "Real-time mob placement on maps using percentage-based coordinates (0-100%) for flexible scaling",
      "Created ResizableMobDisplay component: draggable, resizable mob tokens with expandable details panel",
      "Mob display features: compact mode (bottom-right corner) and expanded mode (full details with stats, weaknesses, strengths)",
      "Episodes support multiple maps per session and multiple mobs with independent positioning",
      "Added full Episode CRUD operations to useGameState hook with timestamps",
      "Episodes automatically sync across all players in real-time via Firebase",
      "Added 'episodes' collection type to Firebase Firestore persistence"
    ]
  },
  {
    "date": "2026-01-11",
    "changes": [
      "Hardened Firebase mob persistence: strip undefined fields, diff adds/updates/deletes, and raise image size guard",
      "Added client-side mob image resize/compress with oversize protection to prevent Firestore rejects",
      "Fixed Dungeon AI console render break by aliasing lucide Image icon",
      "Documented end-to-end Firebase persistence testing steps (FIREBASE_PERSISTENCE_TEST.md)",
      "Added scripts for Firebase CRUD smoke tests and deployment diagnostics"
    ]
  },
  {
    "date": "2026-01-10",
    "changes": [
      "ğŸ”¥ MAJOR: Migrated from file-based storage to Firebase Firestore for cloud persistence and real-time multiplayer",
      "Added real-time synchronization - changes instantly sync across all players in the same room",
      "Implemented room-based multiplayer system with invite links and room codes",
      "Created RoomManager component for creating, joining, and leaving multiplayer rooms",
      "Added Firebase configuration with environment variable support",
      "Created comprehensive Firebase setup guide (docs/FIREBASE_SETUP.md)",
      "Added data migration script (scripts/migrate-to-firebase.js) to transfer existing data to Firestore",
      "Removed dependency on backend server - app now runs on any static host (GitHub Pages, Netlify, Vercel)",
      "Implemented universal data persistence system - all user-created data (crawlers, mobs, maps, inventory) automatically saves",
      "Fixed server API endpoints that were incorrectly nested, making game data loading/saving functional",
      "Fixed CORS issues by configuring Vite proxy for seamless API communication",
      "Created generic DataStore hook (useDataStore/useFirebaseStore) that automatically persists any data type",
      "Added GameContext provider for global data access throughout the app",
      "Increased server payload limit to 50MB to support large map images",
      "Optimized localStorage to exclude large data (maps) and prevent quota errors",
      "Added comprehensive documentation (DATA_PERSISTENCE.md) with usage examples and best practices",
      "Added GitHub Copilot instructions file to guide AI assistants in using correct data patterns",
      "Added TypeScript types for collection names with autocomplete support",
      "Enhanced logging system with detailed [FirebaseStore] console messages for debugging",
      "Made data persistence extensible - new data types (quests, NPCs, spells, etc.) can be added with zero configuration"
    ]
  },
  {
    "date": "2026-01-09",
    "changes": [
      "Fixed Dungeon AI login persistence across navigations (localStorage + in-memory state)",
      "When logged into the Dungeon AI, the main crawler field now switches to the Dungeon AI profile (and restores previous player on logout)",
      "Dice Roller: controls are pinned and visible when panel is expanded (no more hidden button controls)",
      "DM page: allow content to wrap and resize so controls (Hide / Trash) remain visible on narrow windows",
      "Dice Roller: moved roll history to the top; panel now grows up to the top of the viewport and becomes scrollable when full",
      "Dice Roller: grouped multi-dice rolls into collapsible entries showing per-die results and a roll total",
      "Added new Sound Effects system: searchable library (Freesound API integration via server proxy), recent and favorites boxes, upload support, and server-backed broadcast for site-wide playback",
      "Added server proxy endpoint `/api/sounds/search` with caching and basic rate limiting",
      "Fixed Dungeon AI page layout and overflow issues so boxes no longer extend past the main container",
      "Made active navigation buttons' borders thicker to better indicate current page",
      "When signed in as Dungeon AI, the top-right player field now displays 'DUNGEON AI'",
      "Persist Dungeon AI login in browser (localStorage) and added a LOGOUT button on the main menu",
      "Dice Roller: added full roll history with crawler name identification and expanded history capacity",
      "Crawler name now displays on the Main Menu's top-left corner",
      "Added Show Time and Sound Effects buttons to the Main Menu and adjusted the grid layout"
    ]
  },
  {
    "date": "2026-01-08",
    "changes": [
      "Added player selection dropdown on splash screen (includes all crawlers, Dungeon AI, and NPC option)",
      "Added player identity display in top left corner of main page",
      "Made dice roller configurable - can now add multiple dice before rolling",
      "Added 'Show Time' button that navigates to a dedicated presentation page",
      "Added ability for admin to populate maps on Show Time page",
      "Added map visibility controls for admin (show/hide from other crawlers)",
      "Added Sound Effects button on main page",
      "Created Sound Effects page with searchable sound library",
      "Implemented real-time sound effect playback for all connected users",
      "Added changelog system with date-stamped records",
      "Added changelog button on main page",
      "Made changelog closeable with X button in top right corner"
    ]
  }
]
